vars:
  host: https://jsonplaceholder.typicode.com
  token: secret123
headers:
  Content-Type: application/json
  Authorization: Bearer {{token}}
requests:
  - name: Add a comment
    url: "{{host}}/comments"
    method: post
    body:
      comment: this is a comment
    expect:
      status: 201
    set:
      created_comment: id
  - name: Get single comment
    url: "{{host}}/comments/1" # jsonplaceholder doesn't support getting back the POST'ed comment (it 404's)
    method: get
    expect:
      status: 200
      values:
        id: 1
        name: id labore ex et quam laborum
  - name: Try to retrieve created comment
    url: "{{host}}/comments/{{created_comment}}"
    method: get
    expect:
      status: 404
